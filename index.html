<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <title>m-collapse demo</title>

    <style>
        .m-collapse:not(.show) {
            display: none;
        }

        .m-collapsing {
            height: 0px;
            overflow: hidden;
            transition: height var(--collapsing-time, 500ms);
        }

        /* extra example */
        .c-text-collapse__content {
            max-width: 650px;
            -webkit-mask-image: linear-gradient(180deg,red calc(100% - 2em),transparent);
            mask-image: linear-gradient(180deg,red calc(100% - 2em),transparent);
            -webkit-mask-position: bottom;
            mask-position: bottom;
            -webkit-mask-size: 100% calc(100% + 2em);
            mask-size: 100% calc(100% + 2em);
            transition: height 350ms, mask-position 350ms;

            font-weight: 500 ;
            line-height: 1.3;
            font-size: 1rem;
        }

        .c-text-collapse__content.show {
            -webkit-mask-position: top;
            mask-position: top;
        }

        .c-text-collapse__content:not(.show) {
            display: block !important;
            height: calc(var(--show-line-amount, 4) * 1.3em);
            overflow: hidden;
        }

        .c-text-collapse__trigger {
            font-weight: 500 ;
            line-height: 1.3;
            font-size: theme('fontSize.sm');
            color: theme('colors.black');
            border-bottom: 1px dashed;
        }

        .c-text-collapse__trigger[aria-expanded="true"] {
            padding-top: 0.5em;
        }

        [aria-expanded="true"] .c-text-collapse__open-text {
                display: none;
        }

        [aria-expanded="false"] .c-text-collapse__close-text {
                display: none;
        }
    </style>
</head>
<body>
    <div class="container mx-auto px-3 mb-20 max-w-4xl">
        <h1 class="text-3xl text-center my-10"><code>DEMO PAGE</code></h1>
        <h2 class="text-2xl text-center my-5">collapses</h2>
        <section class="mb-5">
            <button
                type="button"
                data-collapse-target="#collapseExample"
                aria-expanded="false"
                aria-controls="collapseExample"
                class="border border-sm border-slate-400 p-3 js-collapse"
            >
                Collapse init closed
            </button>

            <div
                id="collapseExample"
                class="m-collapse"
                aria-labelledby="collapseExample"
            >
                <div
                    data-collapse-content
                    class="p-2 bg-slate-200"
                >
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Placeat, est maiores. Quos qui facere excepturi veniam? Fugit deserunt at, nemo omnis perferendis totam neque. Quas in totam tenetur delectus, error debitis reiciendis vero nobis nihil earum consectetur quaerat nemo repellat quo nostrum quasi eveniet optio perferendis aliquid iusto. Expedita laborum nobis sint aperiam animi culpa atque accusantium. Tempore sed voluptate in sint natus repellat tempora cum voluptatum, architecto porro perferendis illo, consequuntur perspiciatis amet earum laborum excepturi, alias assumenda deleniti odit maxime qui soluta. Praesentium consequatur quae dolore tempore, delectus facere, asperiores facilis deleniti placeat incidunt, explicabo sapiente cupiditate omnis.</p>
                </div>
            </div>
        </section>
        <section class="mb-5">
            <button
                type="button"
                data-collapse-target="#collapseExampleTwo"
                aria-expanded="true"
                aria-controls="collapseExampleTwo"
                class="border border-sm border-slate-400 p-3 js-collapse"
            >
                Collapse init open
            </button>

            <div
                id="collapseExampleTwo"
                class="m-collapse show"
                aria-labelledby="collapseExampleTwo"
            >
                <div
                    data-collapse-content
                    class="p-2 bg-slate-200"
                >
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Placeat, est maiores. Quos qui facere excepturi veniam? Fugit deserunt at, nemo omnis perferendis totam neque. Quas in totam tenetur delectus, error debitis reiciendis vero nobis nihil earum consectetur quaerat nemo repellat quo nostrum quasi eveniet optio perferendis aliquid iusto. Expedita laborum nobis sint aperiam animi culpa atque accusantium. Tempore sed voluptate in sint natus repellat tempora cum voluptatum, architecto porro perferendis illo, consequuntur perspiciatis amet earum laborum excepturi, alias assumenda deleniti odit maxime qui soluta. Praesentium consequatur quae dolore tempore, delectus facere, asperiores facilis deleniti placeat incidunt, explicabo sapiente cupiditate omnis.</p>
                </div>
            </div>
        </section>

        <h2 class="text-2xl text-center my-5">accordion</h2>
        <section class="p-3 mb-5 border border-slate-300 js-accordion">
            <div>
                <button
                    type="button"
                    data-collapse-target="#accordionExample"
                    aria-expanded="true"
                    aria-controls="accordionExample"
                    class="border border-sm border-slate-400 p-3 w-full"
                >
                    Accordion pannel 1
                </button>
                <div
                    id="accordionExample"
                    class="m-collapse show"
                    aria-labelledby="accordionExample"
                >
                    <div
                        data-collapse-content
                        class="p-2 bg-slate-200"
                    >
                        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Placeat, est maiores. Quos qui facere excepturi veniam? Fugit deserunt at, nemo omnis perferendis totam neque. Quas in totam tenetur delectus, error debitis reiciendis vero nobis nihil earum consectetur quaerat nemo repellat quo nostrum quasi eveniet optio perferendis aliquid iusto. Expedita laborum nobis sint aperiam animi culpa atque accusantium. Tempore sed voluptate in sint natus repellat tempora cum voluptatum, architecto porro perferendis illo, consequuntur perspiciatis amet earum laborum excepturi, alias assumenda deleniti odit maxime qui soluta. Praesentium consequatur quae dolore tempore, delectus facere, asperiores facilis deleniti placeat incidunt, explicabo sapiente cupiditate omnis.</p>
                    </div>
                </div>
            </div>

            <div>
                <button
                    type="button"
                    data-collapse-target="#accordionExampleTwo"
                    aria-expanded="false"
                    aria-controls="accordionExampleTwo"
                    class="border border-sm border-slate-400 p-3 w-full"
                >
                    Accordion pannel 2
                </button>

                <div
                    id="accordionExampleTwo"
                    class="m-collapse"
                    aria-labelledby="accordionExampleTwo"
                >
                    <div
                        data-collapse-content
                        class="p-2 bg-slate-200"
                    >
                        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Placeat, est maiores. Quos qui facere excepturi veniam? Fugit deserunt at, nemo omnis perferendis totam neque. Quas in totam tenetur delectus, error debitis reiciendis vero nobis nihil earum consectetur quaerat nemo repellat quo nostrum quasi eveniet optio perferendis aliquid iusto. Expedita laborum nobis sint aperiam animi culpa atque accusantium. Tempore sed voluptate in sint natus repellat tempora cum voluptatum, architecto porro perferendis illo, consequuntur perspiciatis amet earum laborum excepturi, alias assumenda deleniti odit maxime qui soluta. Praesentium consequatur quae dolore tempore, delectus facere, asperiores facilis deleniti placeat incidunt, explicabo sapiente cupiditate omnis.</p>
                    </div>
                </div>
            </div>

            <div>
                <button
                    type="button"
                    data-collapse-target="#accordionExampleTree"
                    aria-expanded="false"
                    aria-controls="accordionExampleTree"
                    class="border border-sm border-slate-400 p-3 w-full"
                >
                    Accordion pannel 3
                </button>

                <div
                    id="accordionExampleTree"
                    class="m-collapse"
                    aria-labelledby="accordionExampleTree"
                >
                    <div
                        data-collapse-content
                        class="p-2 bg-slate-200"
                    >
                        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Placeat, est maiores. Quos qui facere excepturi veniam? Fugit deserunt at, nemo omnis perferendis totam neque. Quas in totam tenetur delectus, error debitis reiciendis vero nobis nihil earum consectetur quaerat nemo repellat quo nostrum quasi eveniet optio perferendis aliquid iusto. Expedita laborum nobis sint aperiam animi culpa atque accusantium. Tempore sed voluptate in sint natus repellat tempora cum voluptatum, architecto porro perferendis illo, consequuntur perspiciatis amet earum laborum excepturi, alias assumenda deleniti odit maxime qui soluta. Praesentium consequatur quae dolore tempore, delectus facere, asperiores facilis deleniti placeat incidunt, explicabo sapiente cupiditate omnis.</p>
                    </div>
                </div>
            </div>
        </section>


        <h2 class="text-2xl text-center my-5">extra example</h2>
        <section class="c-text-collapse p-3 mb-5 border border-slate-300" style="--show-line-amount: 4">
            <div
                id="collapseExampleFour"
                class="c-text-collapse__content m-collapse"
                aria-labelledby="collapseExampleFour"
            >
                <div data-collapse-content>
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aspernatur doloribus cumque consectetur alias facere! Blanditiis repellat nostrum ipsa maxime, consequatur a rem expedita veniam provident ab perferendis dolores qui quod!</p>
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aspernatur doloribus cumque consectetur alias facere! Blanditiis repellat nostrum ipsa maxime, consequatur a rem expedita veniam provident ab perferendis dolores qui quod!</p>
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aspernatur doloribus cumque consectetur alias facere! Blanditiis repellat nostrum ipsa maxime, consequatur a rem expedita veniam provident ab perferendis dolores qui quod!</p>
                </div>
            </div>

            <button
                type="button"
                data-collapse-target="#collapseExampleFour"
                aria-expanded="false"
                aria-controls="collapseExampleFour"
                class="c-text-collapse__trigger js-collapse"
            >
                <p class="c-text-collapse__open-text">open</p>
                <p class="c-text-collapse__close-text">close</p>
            </button>
        </section>
    </div>

    <script type="module">
        import { initAccordion, initCollapse } from './dist/index.js';

        const collapses = [ ...document.querySelectorAll('.js-collapse') ];

        if (collapses.length) {
            collapses.forEach(collapse => {
                initCollapse(collapse);
            });
        }

        const accordions = [ ...document.querySelectorAll('.js-accordion') ];

        if (accordions.length) {
            accordions.forEach(accordion => {
                initAccordion(accordion);
            });
        }
    </script>
</body>
</html>